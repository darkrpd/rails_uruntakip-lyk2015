class User < ActiveRecord::Base
  ##has_one :product , foreign_key: 'product_id', dependent: :destroy
  has_many :products , dependent: :destroy
  accepts_nested_attributes_for :products ,  allow_destroy: true

  validates :username ,presence: true, length: { in: 6..20,message: "username"  }
  validates :email, format: { with: /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/ ,
  message: "only emails"}
  validates :age , presence: true, numericality: { greater_than_or_equal_to: 0 ,message:"age"}
  validates :city, presence: true

end
